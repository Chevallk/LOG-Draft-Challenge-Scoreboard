<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Draft Challenge Leaderboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet" />
  <script>
    UPLOADCARE_PUBLIC_KEY = "d2ab4b298bbb8a16f523";
  </script>
  <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
  <style>
    body {
      background-color: #0d0d0d;
      color: #fff;
      font-family: 'Roboto Condensed', sans-serif;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #000;
      padding: 2em 1em 1em;
      text-align: center;
      border-bottom: 6px solid #bba168;
    }
    header img {
      max-height: 80px;
      margin-bottom: 10px;
    }
    header h1 {
      margin: 0;
      font-size: 2.4em;
      color: #bba168;
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    main {
      padding: 2em 1em;
      max-width: 1000px;
      margin: 0 auto;
    }
    .media-feed {
      background: #1a1a1a;
      padding: 1em;
      border-radius: 8px;
      margin-bottom: 2em;
    }
    .media-card {
      background: #2a2a2a;
      padding: 1em;
      margin: 1em 0;
      border-radius: 6px;
    }
    .media-card img, .media-card video {
      max-width: 100%;
      border-radius: 4px;
    }
    .media-card .actions {
      margin-top: 0.5em;
    }
    .media-card button, .media-card a {
      background: #333;
      color: #bba168;
      padding: 0.5em 1em;
      border: none;
      margin-right: 10px;
      border-radius: 4px;
      cursor: pointer;
      text-decoration: none;
    }
    table {
      width: 100%;
      margin-top: 2em;
      border: 1px solid #333;
      border-collapse: collapse;
    }
    th, td {
      padding: 10px;
      border: 1px solid #333;
    }
    th {
      background-color: #1a1a1a;
      color: #bba168;
    }
    .crown {
      color: #bba168;
      font-weight: bold;
    }
    .badge {
      margin-left: 6px;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://i.postimg.cc/RZcQfc7N/LOG-Transparent-Logo.png" alt="Challenge Logo" />
    <h1>Draft Challenge Leaderboard</h1>
  </header>

  <main>
    <!-- Media Feed Box -->
    <section class="media-feed">
      <h2>üì∏ Share Your Highlights</h2>
      <input type="hidden" role="uploadcare-uploader" data-clearable style="margin-bottom: 1em;" />
      <div id="media-container"></div>
    </section>
        <!-- Leaderboard Table -->
    <table id="scoreboard">
      <thead><tr id="table-header"></tr></thead>
      <tbody></tbody>
    </table>

    <!-- Chat Section -->
    <section id="chat-room">
      <h2>üí¨ Live Chat</h2>
      <div id="chat-box"></div>
      <div id="typing-status"></div>
      <form id="chat-form">
        <input id="chat-name" placeholder="Your name" required />
        <input id="chat-message" placeholder="Message..." required style="width: 50%;" />
        <button type="submit">Send</button>
      </form>
    </section>
  </main>
    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import {
      getDatabase, ref, set, push, onValue,
      onChildAdded, query, limitToLast, remove
    } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDxWpRXF8aMg31r-t27-pONNOB2iUJXYpg",
      authDomain: "log-live-chat.firebaseapp.com",
      projectId: "log-live-chat",
      storageBucket: "log-live-chat.firebasestorage.app",
      messagingSenderId: "557426074509",
      appId: "1:557426074509:web:520a626d100bcd6db253c4",
      measurementId: "G-BGNGWCFSH8"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
          // Uploadcare media handler
    uploadcare.Widget('[role=uploadcare-uploader]').onUploadComplete(function(info) {
      const mediaContainer = document.getElementById("media-container");
      const url = info.cdnUrl;
      const isVideo = url.match(/\.(mp4|webm|ogg)$/i);

      const card = document.createElement("div");
      card.className = "media-card";

      const media = document.createElement(isVideo ? "video" : "img");
      media.src = url;
      if (isVideo) {
        media.controls = true;
        media.style.maxHeight = "300px";
      }

      const actions = document.createElement("div");
      actions.className = "actions";

      const likeBtn = document.createElement("button");
      likeBtn.textContent = "‚ù§Ô∏è Like (0)";
      let likes = 0;
      likeBtn.onclick = () => {
        likes++;
        likeBtn.textContent = `‚ù§Ô∏è Like (${likes})`;
      };

      const downloadLink = document.createElement("a");
      downloadLink.href = url;
      downloadLink.download = "";
      downloadLink.textContent = "‚¨áÔ∏è Download";

      actions.appendChild(likeBtn);
      actions.appendChild(downloadLink);
      card.appendChild(media);
      card.appendChild(actions);
      mediaContainer.prepend(card);
    });
  </script>
</body>
</html>
    
